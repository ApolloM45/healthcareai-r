% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/Lasso.R
\docType{class}
\name{Lasso}
\alias{Lasso}
\title{Compare predictive models, created on your data}
\format{An object of class \code{R6ClassGenerator} of length 24.}
\usage{
Lasso
}
\arguments{
\item{object}{of SuperviseModelParameters class for $new() constructor}

\item{type}{The type of model (either 'regression' or 'classification')}

\item{df}{Dataframe whose columns are used for calc.}

\item{grain.col}{The dataframe's column that has IDs pertaining to the grain}

\item{predicted.col}{Column that you want to predict.}

\item{impute}{Set all-column imputation to F or T.
This uses mean replacement for numeric columns
and most frequent for factorized columns.
F leads to removal of rows containing NULLs.}

\item{debug}{Provides the user extended output to the console, in order
to monitor the calculations throughout. Use T or F.}
}
\description{
This step allows one to create test models on your data
and helps determine which performs best.
}
\examples{

#### Example using iris dataset ####
ptm <- proc.time()
library(HCRTools)

data(iris)
head(iris)

set.seed(42)

p <- SupervisedModelParameters$new()
p$df = iris
p$type = 'regression'
p$impute = TRUE
p$grainCol = ''
p$predictedCol = 'Sepal.Width'
p$debug = FALSE
p$cores = 1

# Run Lasso
lasso <- Lasso$new(p)
lasso$run()

# Run RandomForest
rf <- RandomForest$new(p)
rf$run()

print(proc.time() - ptm)

#### Example using csv data ####
library(HCRTools)
#setwd("C:/Your/script/location") # Needed if using YOUR CSV file
ptm <- proc.time()

# Can delete this line in your work
csvfile <- system.file("extdata", "HREmployeeDev.csv", package = "HCRTools")

df <- read.csv(file = csvfile, #<-- Replace with 'your/path'
                    header = TRUE,
                    na.strings = 'NULL')

head(df)

set.seed(42)

p <- SupervisedModelParameters$new()
p$df = df
p$type = 'classification'
p$impute = FALSE
p$grainCol = ''
p$predictedCol = 'SalariedFlag'
p$debug = TRUE
p$cores = 1

# Run Lasso
lasso <- Lasso$new(p)
lasso$run()

# Run RandomForest
rf <- RandomForest$new(p)
rf$run()

# For a given true-positive rate, get false-pos rate and 0/1 cutoff
lasso$getCutOffs(tpr=.8)
print(proc.time() - ptm)

#### Example using SQL Server data ####
# This example requires:
#    1) That your local SQL Server has AdventureWorks2012 installed

ptm <- proc.time()
library(HCRTools)
library(RODBC)

connection.string = "
driver={SQL Server};
server=localhost;
database=AdventureWorks2012;
trusted_connection=true
"

query = "
SELECT
[OrganizationLevel]
,[MaritalStatus]
,[Gender]
,IIF([SalariedFlag]=0,'N','Y') AS SalariedFlag
,[VacationHours]
,[SickLeaveHours]
FROM [AdventureWorks2012].[HumanResources].[Employee]
"

df <- SelectData(connection.string, query)
head(df)

set.seed(42)

p <- SupervisedModelParameters$new()
p$df = df
p$type = 'classification'
p$impute = TRUE
p$grainCol = ''
p$predictedCol = 'SalariedFlag'
p$debug = FALSE
p$cores = 1

# Run Lasso
lasso <- Lasso$new(p)
lasso$run()

# Run RandomForest
rf <- RandomForest$new(p)
rf$run()

# Plot ROCs from both supervised model classes
plot(lasso$getROC(), col = "blue", legacy.axes=TRUE, mar=c(4, 4, 3, 2)+.1)
par(new=TRUE)
plot(rf$getROC(), col = "red", legacy.axes=TRUE, mar=c(4, 4, 3, 2)+.1)
title(main = "ROC")
legend("bottomright",
       c("Lasso","RandomForest"),
       cex = 0.8,
       col = c("blue","red"),
       lty = 1,
       inset = .1)

# For a given true-positive rate, get false-pos rate and 0/1 cutoff
lasso$getCutOffs(tpr=.8)

print(proc.time() - ptm)

}
\references{
\url{http://products.healthcatalyst.com/Predictive}
}
\seealso{
\code{\link{DeploySupervisedModel}}

\code{\link{HCRTools}}
}
\keyword{datasets}

